### 数据结构报告

书面报告要求

1. 描述各个模块的数据结构，实现思路，使用方法和细节
2. 给出平均复杂度以及平均空间复杂度
3. 展示运行结果并加以说明

### 模块1

##### 功能要求

给定待查询的收入区间，小蓝鲸需要根据系统内已录入的收入列表，统计该区间内的市民收入平均值，将其平均值取整输出。



##### 实现思路

首先是给定数据，然后根据给的区间再计算对应的平均值

计算平均值的本质就是对某段区间的数据统计求和和个数

由于给定的要求的时间和空间复杂度都是log级别的

是肯定不能够先存储数据，然后查询一次计算一次，这种方案的复杂度一定是n的，不符合题意

然后对于log级别的复杂度，第一反应就是树，二分等等。对于这一类的数据和算法大多都有有序的要求。所以需要对排序的算法进行精挑细选。

还有就是不可能给定一次计算一次，这样会有大量的重复计算

所以需要一定的结构去保存一下结果，不能拿每次都算

##### 综和

总结以上的描述，最后得到了一个算法

总体的思路就是排序二分前缀和。

具体就是，先拿到所有的数据，然后进希尔排序（log级别的时间复杂度），然后由于给定的数据是工资，很有可能有大量的重复的数据的。

重复的数据会对后续的操作造成影响（尤其是所需区间左右界限的位置的计算会有大量的影响），所以在这里加入一个遍历，然后设置新的数组存放，以及一个等大的数据记录的是每一个数据出现的次数。截至到这里，在存储信息的区间里所有的数据都是独一无二并且有序排好的

在此之后使一次遍历，设置一个新的数组保存前缀和，就是从第一个元素到当前位置的元素之和（考虑到了重复的情况的前缀和）。还有需要一个一样大的数组保存一下所有的数据个数。截至到了这里所有的前期的算法准备都已经完成了，和和个数都已经计算好了。

接下来就是查询计算了，给定了区间，由于存储信息的数组是有序的，所以使用了二分法进行查询，二分法计算出区间左右边界的下标位置。然后这一段区间的所有元素的和就是前缀和数组里对应位置的差。至于个数也同理可以得到，然后的过程就是除一下就行。

### 模块二

##### 功能要求

对于n个市民，逐一获取每个市民的年收入。当获取第k个年收入时，统计并输出前k个年收入的中位数。
注：当k为奇数时，直接输出第1大的收入；当k为偶数时，输出+1大的收入的平均值（k≥1）

##### 实现思路

这个是要求每一次的输入都要输出对应的中位数

那么求解中位数有很多的思路，对于中位数的计算的数据结构，有数组和链表。数组求中位数就要求数组始终是有序的，求中位数这个行为本身很简单，就是下标一半或者是一半左右的两个数的平均值，问题就在于排序上，最优秀的排序就是桶排序，但是空间占用大等等的局限性。就算是桶排序，由于每次的